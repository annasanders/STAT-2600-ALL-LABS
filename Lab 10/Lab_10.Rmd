---
title: "Lab_10"
author: "Data Me Pls: Chris, James, Amanda, Anna"
date: "March 17, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# IT'S ALMOST SPRING BREAK (AND I'M READY TO GIVE 0% EFFORT ON THIS LAB)
```{r, eval= FALSE}
# Load Both Parts of this Data
library(tidyverse)
library(lubridate)
library(stringr)
answers <- read_csv("Answers_trunc.csv", col_names = TRUE)%>%
  select (Id, OwnerUserId, CreationDate, ParentId, Score, Body)
View(answers)

questions <- read_csv("Questions_trunc.csv", col_name= TRUE)%>%
  select(Id, OwnerUserId, CreationDate, Score, Title, Body)
View(questions)

## Join if you want (run all code)
answersj <- answers%>%
  rename(AnswerId= Id, Id= ParentId)

QnA <- full_join(questions, answersj, by= "Id")%>%
  rename(QDate= CreationDate.x,
         QScore= Score.x,
         QTitle= Title,
         QBody= Body.x,
         ADate= CreationDate.y,
         AScore= Score.y,
         ABody= Body.y,
         AUserId= OwnerUserId.y,
         QUserId= OwnerUserId.x,
         Aid= AnswerId,
         Qid= Id
         )
  
QnA <- QnA%>%
  select(Qid, QTitle, QDate, QScore, QUserId, QBody, 
         Aid, ADate, AScore, AUserId, ABody)
```

## Timeliness of a Post (GROUP)
```{r, eval=FALSE}
time <- QnA%>%
  select(Qid, QDate, ADate, AScore)

etime <- time%>%
  mutate(Etime= ADate-QDate)

### DATA LOSS HERE
etime1 <- etime%>% 
  filter(Etime >= 0)

ggplot(etime1)+
  geom_point(mapping= aes(x=Etime, y=AScore))

```

## Other Important Features (SUMMARY OF INDIVIDAL)


---

### Chris
question: do answers that contain a link in them get more upvotes? 

![](plots/chrislab10.png)

```{r, eval=FALSE}

links <- answersj %>%
  select("Score", "Body")

containslink <- links %>%
  filter(str_detect(Body, "http")) %>%
  select(Score)

score_wlink <- containslink %>%
  transform(Score = as.numeric(Score)) %>%
  summarise(mean_score = mean(Score))

#average score which contain links and then average scores of ones that dont contain links and compare.

doesntcontainlink <- links %>%
  filter(!str_detect(Body,"http")) %>%
  select(Score)

score_wolink <- doesntcontainlink %>%
  transform(Score = as.numeric(Score)) %>%
  summarise(mean_score = mean(Score))

scorestotal = full_join(score_wlink, score_wolink) %>%
  mutate(Type = c("with link", "without link"))

ggplot(scorestotal) + 
  geom_col(aes(x = Type, y = mean_score, fill = Type)) + labs(x = "Does the answer include a link?", y = "Mean upvote", title = "Correlation between including links in answer and average upvotes") 

```

From the data, we can see that, on average, answers that provide a link to support their response receive a better score (16.53 upvotes on average) than those that do not (10.21 upvotes on average). To be exact answers that include links are 6.32 upvotes higher on average. 

I chose to analyze this feature because, in my experience, the answers that link to other articles are more intricate. Those answers tend to be very detailed, and the links are to either references, or to another article that can answer a specific aspect of the question in more detail. I was curious if the people who linked other sources would get higher upvotes because of this. 

Again, I think the reason that people who included links in their responses had a much higher average upvotes is due to them reffering to other sources when they know they are unable to adequately answer a specific portion of the question

### James

### Amanda 
__Questions:__ Do questions that include a question mark generally receive more upvotes than questions that do not include a question mark?

```{r, eval=FALSE}
questions %>% mutate()
```



__Answers:__ Do answers that use "I statements get more upvotes than ones that don't?"

```{r, eval=FALSE}

```

### Anna (If answers were higher voted than question)
Feature: Your Question Sucks!

```{r, eval=FALSE}
updoot <- QnA%>%
  mutate(Diff= AScore-QScore)

updoot1 <- updoot%>%
  filter(Diff > 0)

ggplot (updoot1)+
  geom_point(mapping=aes(x=Diff, y=QScore, color=AScore))

```